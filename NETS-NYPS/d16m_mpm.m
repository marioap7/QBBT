% data16m.m (16 Machine System Data)
% This is a 16-machine system with 86 transmission lines and
% 68 buses. Data are extracted from the GE final report
% entitled "Singular Perturbations, Coherency and
% Aggregation of Dynamic Systems," pp.6-42, July 1981.
% detailed generator models
% dc exciters on generators 1 to 9
% constant current active loads

% Bus data format
% bus: 
% col1 number
% col2 voltage magnitude(pu)
% col3 voltage angle(degree)
% col4 p_gen(pu)
% col5 q_gen(pu),
% col6 p_load(pu)
% col7 q_load(pu)
% col8 G shunt(pu)
% col9 B shunt(pu)
% col10 bus_type
%       bus_type - 1, swing bus
%                - 2, generator bus (PV bus)
%                - 3, load bus (PQ bus)
% col11 q_gen_max(pu)
% col12 q_gen_min(pu)


bus = [...
    1.0000    1.0450         0    2.5044    1.1550         0         0         0         0    1.0000         0         0
    2.0000    0.9800    3.5503    5.4500    1.8429         0         0         0         0    2.0000  999.0000 -999.0000
    3.0000    0.9830    5.5803    6.5000    1.9876         0         0         0         0    2.0000  999.0000 -999.0000
    4.0000    0.9970    6.6336    6.3200    1.0709         0         0         0         0    2.0000  999.0000 -999.0000
    5.0000    1.0110    5.1551    5.0520    1.6234         0         0         0         0    2.0000  999.0000 -999.0000
    6.0000    1.0500    9.4769    7.0000    2.1975         0         0         0         0    2.0000  999.0000 -999.0000
    7.0000    1.0630   11.7056    5.6000    0.9851         0         0         0         0    2.0000  999.0000 -999.0000
    8.0000    1.0300    5.5959    5.4000    0.0031         0         0         0         0    2.0000  999.0000 -999.0000
    9.0000    1.0250    9.9302    8.0000    0.0492         0         0         0         0    2.0000  999.0000 -999.0000
   10.0000    1.0100    5.0408    5.0000    0.0606         0         0         0         0    2.0000  999.0000 -999.0000
   11.0000    1.0000    7.4828   10.0000   -0.1726         0         0         0         0    2.0000  999.0000 -999.0000
   12.0000    1.0156   -6.0042   13.5000    2.4920         0         0         0         0    2.0000  999.0000 -999.0000
   13.0000    1.0110  -10.8676   35.9100    8.7547         0         0         0         0    2.0000  999.0000 -999.0000
   14.0000    1.0000   35.1608   17.8500    0.6217         0         0         0         0    2.0000  999.0000 -999.0000
   15.0000    1.0000   28.9208   10.0000    0.6719         0         0         0         0    2.0000  999.0000 -999.0000
   16.0000    1.0000   34.6654   40.0000    4.6005         0         0         0         0    2.0000  999.0000 -999.0000
   17.0000    1.0591   -4.2475         0         0    2.5270    1.1856         0         0    3.0000         0         0
   18.0000    1.0516   -2.4233         0         0   -0.0000    0.0000         0         0    3.0000         0         0
   19.0000    1.0327   -5.4265         0         0    3.2200    0.0200         0         0    3.0000         0         0
   20.0000    1.0059   -6.5455         0         0    5.0000    1.8400         0         0    3.0000         0         0
   21.0000    1.0072   -5.6066         0         0   -0.0000    0.0000         0         0    3.0000         0         0
   22.0000    1.0093   -4.9253         0         0   -0.0000    0.0000         0         0    3.0000         0         0
   23.0000    0.9995   -7.1964         0         0    2.3400    0.8400         0         0    3.0000         0         0
   24.0000    0.9990   -7.7388         0         0    5.2200    1.7700         0         0    3.0000         0         0
   25.0000    1.0391   -8.2850         0         0    1.0400    1.2500         0         0    3.0000         0         0
   26.0000    1.0184   -2.4066         0         0   -0.0000    0.0000         0         0    3.0000         0         0
   27.0000    1.0141   -3.2638         0         0   -0.0000    0.0000         0         0    3.0000         0         0
   28.0000    1.0553   -3.2401         0         0    0.0900    0.8800         0         0    3.0000         0         0
   29.0000    1.0157   -3.0745         0         0    0.0000    0.0000         0         0    3.0000         0         0
   30.0000    1.0134   -4.6215         0         0   -0.0000    0.0000         0         0    3.0000         0         0
   31.0000    1.0171   -4.7167         0         0    3.2000    1.5300         0         0    3.0000         0         0
   32.0000    1.0334   -3.1799         0         0    3.2900    0.3200         0         0    3.0000         0         0
   33.0000    1.0365   -4.2733         0         0    0.0000    0.0000         0         0    3.0000         0         0
   34.0000    1.0338   -5.1386         0         0    1.5800    0.3000         0         0    3.0000         0         0
   35.0000    1.0501    1.4150         0         0   -0.0000    0.0000         0         0    3.0000         0         0
   36.0000    0.9904   -0.0177         0         0    6.8000    1.0300         0         0    3.0000         0         0
   37.0000    1.0325   -0.5451         0         0    2.7400    1.1500         0         0    3.0000         0         0
   38.0000    1.0501    4.1377         0         0   -0.0000    0.0000         0         0    3.0000         0         0
   39.0000    1.0450    3.8497         0         0    2.4800    0.8500         0         0    3.0000         0         0
   40.0000    1.0386   -3.0067         0         0    3.0900   -0.9200         0         0    3.0000         0         0
   41.0000    1.0598   -1.1596         0         0    2.2400    0.4700         0         0    3.0000         0         0
   42.0000    1.0561   -2.6593         0         0    1.3900    0.1700         0         0    3.0000         0         0
   43.0000    1.0434   -4.5442         0         0    2.8100    0.7600         0         0    3.0000         0         0
   44.0000    1.0520    0.4748         0         0    2.0600    0.2800         0         0    3.0000         0         0
   45.0000    1.0509    3.1120         0         0    2.8400    0.2700         0         0    3.0000         0         0
   46.0000    1.0536   -4.7947         0         0    0.0000    0.0000         0         0    3.0000         0         0
   47.0000    1.0573   -2.2328         0         0    0.0000    0.0000         0         0    3.0000         0         0
   48.0000    1.0511    0.0923         0         0    0.0000    0.0000         0         0    3.0000         0         0
   49.0000    1.0562   -3.3917         0         0    1.1200    0.0000         0         0    3.0000         0         0
   50.0000    1.0652   -8.3281         0         0   -0.0000    0.0000         0         0    3.0000         0         0
   51.0000    1.0139   -8.3324         0         0   -0.0000   -0.0000         0         0    3.0000         0         0
   52.0000    1.0423  -11.7133         0         0    1.0200   -0.1946         0         0    3.0000         0         0
   53.0000    1.0290  -17.6715         0         0   60.0000    3.0000         0         0    3.0000         0         0
   54.0000    1.0558   -2.1864         0         0   -0.0000    0.0000         0         0    3.0000         0         0
   55.0000    1.0056  -19.3084         0         0    2.6700    0.1260         0         0    3.0000         0         0
   56.0000    1.0677    4.3536         0         0    0.6563    0.2353         0         0    3.0000         0         0
   57.0000    0.9994   33.6257         0         0   10.0000    2.5000         0         0    3.0000         0         0
   58.0000    0.9991   28.0606         0         0   11.5000    2.5000         0         0    3.0000         0         0
   59.0000    1.0147  -18.4729         0         0    0.0000   -0.0000         0         0    3.0000         0         0
   60.0000    1.0140  -18.5030         0         0    2.6755    0.0484         0         0    3.0000         0         0
   61.0000    1.0178   -8.3403         0         0    2.0800    0.2100         0         0    3.0000         0         0
   62.0000    1.0324   -1.2174         0         0    1.5070    0.2850         0         0    3.0000         0         0
   63.0000    1.0738   -3.4999         0         0    2.0312    0.3259         0         0    3.0000         0         0
   64.0000    1.0765   -1.5836         0         0    2.4120    0.0220         0         0    3.0000         0         0
   65.0000    1.0117    2.0177         0         0    1.6400    0.2900         0         0    3.0000         0         0
   66.0000    1.0119    8.4665         0         0    1.0000   -1.4700         0         0    3.0000         0         0
   67.0000    1.0221   -4.3426         0         0    3.3700   -1.2200         0         0    3.0000         0         0
   68.0000    0.9935   27.7278         0         0   24.7000    1.2300         0         0    3.0000         0         0
   ];

% Line data format
% line: from bus, to bus, resistance(pu), reactance(pu),
%       line charging(pu), tap ratio, phase shift(deg)

line = [...
   17.0000   18.0000    0.0035    0.0411    0.6987         0         0
   17.0000   46.0000    0.0008    0.0074    0.4800         0         0
   18.0000   19.0000    0.0013    0.0151    0.2572         0         0
   18.0000   41.0000    0.0070    0.0086    0.1460         0         0
   18.0000    1.0000         0    0.0181         0    1.0250         0
   19.0000   20.0000    0.0013    0.0213    0.2214         0         0
   19.0000   34.0000    0.0011    0.0133    0.2138         0         0
   20.0000   21.0000    0.0008    0.0128    0.1342         0         0
   20.0000   30.0000    0.0008    0.0129    0.1382         0         0
   21.0000   22.0000    0.0002    0.0026    0.0434         0         0
   21.0000   24.0000    0.0008    0.0112    0.1476         0         0
   22.0000   23.0000    0.0006    0.0092    0.1130         0         0
   22.0000   27.0000    0.0007    0.0082    0.1389         0         0
   22.0000    2.0000         0    0.0250         0    1.0700         0
   23.0000   24.0000    0.0004    0.0046    0.0780         0         0
   24.0000   25.0000    0.0023    0.0363    0.3804         0         0
   25.0000   46.0000    0.0019    0.0183    0.2900         0         0
   26.0000   27.0000    0.0004    0.0043    0.0729         0         0
   26.0000   29.0000    0.0004    0.0043    0.0729         0         0
   26.0000    3.0000         0    0.0200         0    1.0700         0
   28.0000   27.0000    0.0016    0.0435         0    1.0600         0
   28.0000   29.0000    0.0016    0.0435         0    1.0600         0
   29.0000   30.0000    0.0009    0.0101    0.1723         0         0
   30.0000   31.0000    0.0018    0.0217    0.3660         0         0
   31.0000   32.0000    0.0009    0.0094    0.1710         0         0
   32.0000   33.0000    0.0007    0.0089    0.1342         0         0
   32.0000   35.0000    0.0016    0.0195    0.3040         0         0
   32.0000   37.0000    0.0008    0.0135    0.2548         0         0
   32.0000   40.0000    0.0003    0.0059    0.0680         0         0
   33.0000   34.0000    0.0007    0.0082    0.1319         0         0
   33.0000   43.0000    0.0013    0.0173    0.3216         0         0
   35.0000   36.0000    0.0007    0.0138         0    1.0600         0
   35.0000    4.0000    0.0007    0.0142         0    1.0700         0
   36.0000    5.0000    0.0009    0.0180         0    1.0090         0
   37.0000   38.0000    0.0008    0.0140    0.2565         0         0
   38.0000   39.0000    0.0006    0.0096    0.1846         0         0
   38.0000    6.0000         0    0.0143         0    1.0250         0
   39.0000   40.0000    0.0022    0.0350    0.3610         0         0
   39.0000    7.0000    0.0005    0.0272         0         0         0
   41.0000   42.0000    0.0032    0.0323    0.5310         0         0
   41.0000    8.0000    0.0006    0.0232         0    1.0250         0
   42.0000   43.0000    0.0014    0.0147    0.2396         0         0
   42.0000   44.0000    0.0043    0.0474    0.7802         0         0
   42.0000   45.0000    0.0057    0.0625    1.0290         0         0
   44.0000   45.0000    0.0014    0.0151    0.2490         0         0
   45.0000    9.0000    0.0008    0.0156         0    1.0250         0
   25.0000   46.0000    0.0019    0.0183    0.2900         0         0
   25.0000   52.0000    0.0022    0.0196    0.3400         0         0
   25.0000   52.0000    0.0022    0.0196    0.3400         0         0
   52.0000   53.0000    0.0005    0.0045    0.3200         0         0
   50.0000   52.0000    0.0033    0.0111    1.4500         0         0
   51.0000   50.0000    0.0001    0.0074         0    0.9460         0
   49.0000   50.0000    0.0011    0.0157    0.2020         0         0
   48.0000   49.0000    0.0008    0.0099    0.1680         0         0
   46.0000   47.0000    0.0013    0.0187    0.3330         0         0
   46.0000   48.0000    0.0024    0.0288    0.4880         0         0
   17.0000   47.0000    0.0016    0.0163    0.2500         0         0
   47.0000   54.0000    0.0011    0.0147    0.2470         0         0
   49.0000   54.0000    0.0036    0.0444    0.6930         0         0
   54.0000   62.0000    0.0022    0.0284    0.4300         0         0
   62.0000   65.0000    0.0018    0.0274    0.2700         0         0
   17.0000   63.0000    0.0013    0.0188    1.3100         0         0
   63.0000   64.0000    0.0025    0.0268    0.4000         0         0
   63.0000   64.0000    0.0025    0.0268    0.4000         0         0
   64.0000   56.0000    0.0020    0.0220    1.2800         0         0
   51.0000   61.0000    0.0007    0.0175    1.3900         0         0
   53.0000   59.0000    0.0005    0.0276         0         0         0
   59.0000   60.0000    0.0001    0.0011         0         0         0
   60.0000   61.0000    0.0025    0.0730         0         0         0
   55.0000   60.0000         0    0.0411         0         0         0
   55.0000   61.0000         0    0.0839         0         0         0
   61.0000   67.0000    0.0004    0.0105    0.7200         0         0
   66.0000   68.0000    0.0012    0.0288    2.0600         0         0
   66.0000   67.0000    0.0009    0.0221    1.6200         0         0
   65.0000   68.0000    0.0076    0.1141    1.1600         0         0
   68.0000   58.0000    0.0040    0.0600    2.2500         0         0
   58.0000   57.0000    0.0040    0.0600    2.2500         0         0
   57.0000   56.0000    0.0060    0.0840    3.1500         0         0
   47.0000   10.0000         0    0.0260         0    1.0400         0
   48.0000   11.0000         0    0.0130         0    1.0400         0
   52.0000   12.0000         0    0.0075         0    1.0400         0
   53.0000   13.0000         0    0.0033         0    1.0400         0
   57.0000   14.0000         0    0.0015         0    1.0000         0
   58.0000   15.0000         0    0.0015         0    1.0000         0
   68.0000   16.0000         0    0.0030         0    1.0000         0
   17.0000   43.0000    0.0320    0.3200    0.4100    1.0000         0
   ];

% Machine data format
%       1. machine number,
%       2. bus number,
%       3. base mva,
%       4. leakage reactance x_l(pu),
%       5. resistance r_a(pu),
%       6. d-axis sychronous reactance x_d(pu),
%       7. d-axis transient reactance x'_d(pu),
%       8. d-axis subtransient reactance x"_d(pu),
%       9. d-axis open-circuit time constant T'_do(sec),
%      10. d-axis open-circuit subtransient time constant
%                T"_do(sec),
%      11. q-axis sychronous reactance x_q(pu),
%      12. q-axis transient reactance x'_q(pu),
%      13. q-axis subtransient reactance x"_q(pu),
%      14. q-axis open-circuit time constant T'_qo(sec),
%      15. q-axis open circuit subtransient time constant
%                T"_qo(sec),
%      16. inertia constant H(sec),
%      17. damping coefficient d_o(pu),
%      18. dampling coefficient d_1(pu),
%      19. bus number
%

 mac_con = [...
1	1	100	0	0	0.1	    0.031	0	10.2	0	0.069	0.028	0	1.5 	0	42  	35	0	1	0	0
2	2	100	0	0	0.295	0.0697	0	6.56	0	0.282	0.06	0	1.5 	0	30.2	35	0	2	0	0
3	3	100	0	0	0.2495	0.0531	0	5.7	    0	0.237   0.05	0	1.5 	0	35.8	35	0	3	0	0
4	4	100	0	0	0.262	0.0436	0	5.69	0	0.258	0.04	0	1.5 	0	28.6	35	0	4	0	0
5	5	100	0	0	0.33	0.066	0	5.4	    0	0.31	0.06	0	0.44	0	26  	35	0	5	0	0
6	6	100	0	0	0.254	0.05	0	7.3	    0	0.241	0.045	0	0.4 	0	34.8	35	0	6	0	0
7	7	100	0	0	0.295	0.049	0	5.66	0	0.292	0.045	0	1.5 	0	26.4	35	0	7	0	0
8	8	100	0	0	0.29	0.057	0	6.7	    0	0.28	0.05	0	0.41	0	24.3	35	0	8	0	0
9	9	100	0	0	0.2106	0.057	0	4.79	0	0.205	0.05	0	1.96	0	34.5	120	0	9	0	0
10	10	100	0	0	0.169	0.0457	0	9.37	0	0.115	0.045	0	1.5 	0	31  	35	0	10	0	0
11	11	100	0	0	0.128	0.018	0	4.1  	0	0.123	0.015	0	1.5 	0	28.2	35	0	11	0	0
12	12	100	0	0	0.101	0.031	0	7.4 	0	0.095	0.028	0	1.5 	0	92.3	35	0	12	0	0
13	13	100	0	0	0.0148	0.00275	0	5.9 	0	0.0143	0.0025	0	1.5 	0	496  	70	0	13	0	0
14	14	100	0	0	0.018	0.00285	0	4.1 	0	0.0173	0.0025	0	1.5 	0	300 	35	0	14	0	0
15	15	100	0	0	0.018	0.00285	0	4.1 	0	0.0173	0.0025	0	1.5 	0	300 	35	0	15	0	0
16	16	100	0	0	0.0178	0.00355	0	7.8 	0	0.0167	0.003	0	1.5 	0	450 	70	0	16	0	0];
% mac_con(:,7) = mac_con(:,12);   

exc_con = [...
0	1	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	2	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	3	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	4	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	5	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	6	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	7	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	8	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	9	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	10	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	11	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	12	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	13	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	14	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	15	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0;
0	16	0	50	0.02	0	0	0	0   0	0	0	0	0	0	0	0];
exc_con(:,8) = 50.0;
exc_con(:,9) = -50.0;
% exc_con(:,4) = 25.0;
% exc_con(:,5) = 0.075;

tao = 1/100;                   
sw_con = [...
   0    0    0    0    0    0    tao;%sets intitial time step
  0.1   31   32   0    0    6    tao; %apply three phase fault at bus 1, on line 1-2
  0.15 0    0    0    0    0    tao; %clear fault at bus 
  0.2 0    0    0    0    0     tao; %clear remote end
%    4+5*tao 0    0    0    0    0    tao; % increase time step 
%    4+6*tao   0    0    0    0    0    tao; % increase time step
200    0    0    0    0    0    0]; % end simulation
% 202    0    0    0    0    0    0]; % end simulation
